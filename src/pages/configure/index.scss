@use "@/app.scss" as *;

.configure-page {
  min-height: 100vh;
  padding-bottom: 160rpx;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

  .preview-section {
    position: sticky;
    top: 0;
    z-index: 10;
    padding: 24rpx;
    text-align: center;
    background: #ffffff;
    box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);

    .qr-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20rpx;
      background: linear-gradient(
        135deg,
        rgb(245, 247, 250) 0%,
        rgb(195, 207, 226) 100%
      );
      border-radius: 16rpx;
      box-shadow: 0 8rpx 32rpx rgba(0, 0, 0, 0.12);
      .top-label {
        margin-bottom: 16rpx;
        color: #333;
        font-weight: 600;
        font-size: 32rpx;
        text-align: center;
        word-break: break-all;
      }

      .qr-wrapper {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;

        .qr-image {
          display: block;
          border-radius: 8rpx;
        }

        .logo-overlay {
          position: absolute;
          top: 50%;
          left: 50%;
          padding: 4rpx;
          background: #ffffff;
          border-radius: 8rpx;
          box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.12);
          transform: translate(-50%, -50%);

          .logo-image {
            display: block;
            border-radius: 4rpx;
          }
        }
      }

      .bottom-label {
        margin-top: 16rpx;
        color: #333;
        font-weight: 600;
        font-size: 32rpx;
        text-align: center;
        word-break: break-all;
      }
    }
  }

  .config-section {
    padding: 20rpx;

    .config-card {
      margin-bottom: 20rpx;
      padding: 20rpx;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 16rpx;
      box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);

      .card-header {
        display: flex;
        align-items: center;
        margin-bottom: 20rpx;

        .card-icon {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 44rpx;
          height: 44rpx;
          margin-right: 16rpx;
          font-size: 20rpx;
          border-radius: 12rpx;
        }

        .card-title {
          color: #333;
          font-weight: 600;
          font-size: 32rpx;
        }
      }

      .card-content {
        .form-item {
          margin-bottom: 20rpx;

          &:last-child {
            margin-bottom: 0;
          }

          .item-label {
            display: flex;
            align-items: center;
            margin-bottom: 12rpx;
            color: #666;
            font-size: 28rpx;

            .label-value {
              margin-left: auto;
              color: #667eea;
              font-weight: 500;
            }
          }

          .item-desc {
            margin-bottom: 12rpx;
            color: #999;
            font-size: 22rpx;
            line-height: 1.4;
          }

          .slider-wrapper {
            display: flex;
            align-items: center;

            .slider {
              flex: 1;
              margin: 0 16rpx;
            }

            .slider-value {
              min-width: 80rpx;
              color: #333;
              font-weight: 500;
              font-size: 24rpx;
              text-align: right;
            }
          }

          .color-presets {
            display: flex;
            flex-wrap: wrap;
            gap: 16rpx;
            margin-bottom: 20rpx;

            .preset-btn {
              display: flex;
              flex-direction: column;
              align-items: center;
              padding: 12rpx 16rpx;
              background: #fafafa;
              border: 2rpx solid #e8e8e8;
              border-radius: 12rpx;
              transition: all 0.3s ease;

              &.active {
                background: rgba(102, 126, 234, 0.1);
                border-color: #667eea;
              }

              .preset-color {
                width: 40rpx;
                height: 40rpx;
                margin-bottom: 8rpx;
                border: 2rpx solid #e8e8e8;
                border-radius: 8rpx;
              }

              .preset-name {
                color: #666;
                font-size: 20rpx;
              }
            }
          }

          .color-picker-wrapper {
            display: flex;
            gap: 16rpx;
            align-items: center;

            .color-preview {
              position: relative;
              width: 64rpx;
              height: 64rpx;
              overflow: hidden;
              border: 2rpx solid #e8e8e8;
              border-radius: 12rpx;
              box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.08);

              .color-input-native {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                opacity: 0;
              }
            }

            .color-input {
              flex: 1;
              height: 64rpx;
              padding: 0 20rpx;
              color: #333;
              font-size: 28rpx;
              background: #fafafa;
              border: 2rpx solid #e8e8e8;
              border-radius: 12rpx;
            }
          }

          .radio-group {
            display: flex;
            flex-wrap: wrap;
            gap: 12rpx;

            .radio-item {
              display: flex;
              flex: 1;
              align-items: center;
              justify-content: center;
              min-width: 120rpx;
              height: 64rpx;
              color: #666;
              font-size: 24rpx;
              border: 2rpx solid #e8e8e8;
              border-radius: 12rpx;
              transition: all 0.3s ease;

              &.active {
                color: #667eea;
                font-weight: 500;
                background: rgba(102, 126, 234, 0.1);
                border-color: #667eea;
              }
            }
          }

          .text-input {
            box-sizing: border-box;
            width: 100%;
            height: 64rpx;
            padding: 0 20rpx;
            color: #333;
            font-size: 28rpx;
            background: #fafafa;
            border: 2rpx solid #e8e8e8;
            border-radius: 12rpx;

            &:focus {
              background: #ffffff;
              border-color: #667eea;
            }
          }

          .logo-upload {
            display: flex;
            gap: 20rpx;
            align-items: center;

            .logo-preview {
              display: flex;
              align-items: center;
              justify-content: center;
              width: 96rpx;
              height: 96rpx;
              overflow: hidden;
              border: 2rpx dashed #e8e8e8;
              border-radius: 12rpx;

              .logo-image {
                width: 100%;
                height: 100%;
                object-fit: cover;
              }

              .placeholder-text {
                color: #aaa;
                font-size: 24rpx;
              }
            }

            .upload-btn {
              display: flex;
              flex: 1;
              align-items: center;
              justify-content: center;
              height: 64rpx;
              color: #667eea;
              font-weight: 500;
              font-size: 28rpx;
              background: rgba(102, 126, 234, 0.1);
              border: 2rpx solid #667eea;
              border-radius: 12rpx;

              &:active {
                background: rgba(102, 126, 234, 0.2);
              }
            }

            .remove-btn {
              display: flex;
              align-items: center;
              justify-content: center;
              width: 64rpx;
              height: 64rpx;
              color: #ff4d4f;
              font-size: 28rpx;
              background: rgba(255, 77, 79, 0.1);
              border: 2rpx solid #ff4d4f;
              border-radius: 12rpx;
            }
          }
        }
      }
    }
  }

  .save-section {
    position: fixed;
    right: 0;
    bottom: 0;
    left: 0;
    padding: 20rpx;
    background: rgba(255, 255, 255, 0.98);
    box-shadow: 0 -4rpx 20rpx rgba(0, 0, 0, 0.08);

    .save-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100%;
      height: 88rpx;
      color: #ffffff;
      font-weight: 600;
      font-size: 32rpx;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border: none;
      border-radius: 44rpx;
      box-shadow: 0 8rpx 24rpx rgba(102, 126, 234, 0.35);
      transition: all 0.3s ease;

      &:active {
        transform: scale(0.98);
      }

      &.disabled {
        opacity: 0.6;
        pointer-events: none;
      }

      .btn-icon {
        margin-right: 12rpx;
      }
    }
  }
}
